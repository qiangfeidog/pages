"use strict";(self["webpackChunkdemo_components"]=self["webpackChunkdemo_components"]||[]).push([[780],{8780:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"Q-calendar",on:{mouseup:function(t){return t.stopPropagation(),e.onMouseUp.apply(null,arguments)},mouseleave:function(t){return t.stopPropagation(),e.onMouseleave.apply(null,arguments)}}},[e.hideTitle?t("div",{staticClass:"Q-calendar-title"},[t("div",{staticClass:"Q-calendar-title-box Q-calendar-title-box-padding"},[t("div",{staticClass:"Q-calendar-title-box-text",on:{click:e.onClickYears}},[e._v(" "+e._s(this.currentYear)+"年 ")]),t("div",{staticClass:"Q-calendar-title-box-text",on:{click:e.onClickMonth}},[e._v(" "+e._s(this.currentMonth)+"月 ")])]),e._t("mkCalendarHeaderSlot"),e.isSwitch?t("div",{staticClass:"Q-calendar-title-box"},[t("div",{staticClass:"Q-calendar-title-box-text",on:{click:e.onClickUp}},[e._v("上")]),t("div",{staticClass:"Q-calendar-title-box-text",on:{click:e.onClickDown}},[e._v("下")])]):e._e()],2):t("div",{staticClass:"Q-calendar-title"},[t("div",{staticClass:"Q-calendar-title-box Q-calendar-title-box-center"},[t("div",{staticClass:"Q-calendar-title-box-text"},[e._v(e._s(this.currentYear)+"年")]),t("div",{staticClass:"Q-calendar-title-box-text"},[e._v(e._s(this.currentMonth)+"月")])])]),t("transition",{attrs:{name:"Q-calendar-change"}},[1===e.hide?t("div",{staticClass:"Q-calendar-day",on:{mousewheel:e.onMousewheel}},[t("div",{staticClass:"Q-calendar-week"},e._l(e.isMonday?e.weekSort.Monday:e.weekSort.Sunday,(function(a){return t("p",{key:a},[e._v(e._s(a))])})),0),t("div",{staticClass:"Q-calendar-box"},[e._l(e.lastMonthDays,(function(a){return t("div",{key:"dayLast"+a,staticClass:"Q-calendar-surplus"},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.isOtherDate,expression:"isOtherDate"}]},[e._v(" "+e._s(a))])])})),e._l(e.currentMonthDays,(function(a){return t("div",{key:"dayCur"+a.day,staticClass:"Q-calendar-current-month",class:{"Q-calendar-checked":a.checked,nowCss:(new Date).getFullYear()+""===a.year&&(new Date).getMonth()+1+""===a.month&&(new Date).getDate()+""===a.day},style:e.cssProps,on:{click:function(t){return e.onChangeDay(a)},mouseover:function(t){return e.dragDay(a)},mousedown:function(t){return e.onMouseDown(a)}}},[t("span",[e._v(" "+e._s(a.day))])])})),e._l(this.nextMonth(),(function(a){return t("div",{key:"dayNext"+a,staticClass:"Q-calendar-surplus"},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.isOtherDate,expression:"isOtherDate"}]},[e._v(e._s(a))])])}))],2)]):e._e()]),t("transition",{attrs:{name:"Q-calendar-change"}},[2===e.hide?t("div",{staticClass:"Q-calendar-years",on:{mousewheel:e.onMousewheel}},[t("div",{staticClass:"Q-calendar-years-box"},[e._l(e.clickMonth,(function(a){return t("div",{key:"monthCur"+a.value,class:{nowCss:e.isNowYear&&(new Date).getMonth()+1===a.value},on:{click:function(t){return e.onChangeMonth(a)}}},[t("span",[e._v(e._s(a.key))])])})),e._l(e.lastMonth,(function(a){return t("div",{key:"monthNext"+a,staticClass:"Q-calendar-surplus"},[t("span",[e._v(e._s(a))])])}))],2)]):e._e()]),t("transition",{attrs:{name:"Q-calendar-change"}},[3===e.hide?t("div",{staticClass:"Q-calendar-years Q-calendar-year",on:{mousewheel:e.onMousewheel}},[t("div",{staticClass:"Q-calendar-years-box"},[e._l(e.lastYear,(function(a){return t("div",{key:"yearLast"+a,staticClass:"Q-calendar-surplus"},[t("span",[e._v(e._s(a))])])})),e._l(e.thisYear,(function(a){return t("div",{key:"yearCur"+a,class:{nowCss:(new Date).getFullYear()===a},on:{click:e.onChangeYear}},[t("span",[e._v(e._s(a))])])}))],2)]):e._e()])],1)},r=[];a(4114);function n(e,t){if(0===arguments.length||!e)return null;const a=t||"{y}-{m}-{d} {h}:{i}:{s}";let s;"object"===typeof e?s=e:("string"===typeof e&&/^[0-9]+$/.test(e)?e=parseInt(e):"string"===typeof e&&(e=e.replace(new RegExp(/-/gm),"/")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),s=new Date(e));const r={y:s.getFullYear(),m:s.getMonth()+1,d:s.getDate(),h:s.getHours(),i:s.getMinutes(),s:s.getSeconds(),a:s.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,((e,t)=>{let a=r[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(e.length>0&&a<10&&(a="0"+a),a||0)}))}function i(e,t){const a=[],s=new Date;s.setUTCFullYear(e.year,e.month-1,e.day);const r=new Date;let i,l;r.setUTCFullYear(t.year,t.month-1,t.day),s.getTime()>r.getTime()?(i=r.getTime(),l=s.getTime()):(i=s.getTime(),l=r.getTime());for(let h=i;h<=l;)a.push({year:n(h,"{y}"),month:1===n(h,"{m}").length?"0"+n(h,"{m}"):n(h,"{m}"),day:1===n(h,"{d}").length?"0"+n(h,"{d}"):n(h,"{d}"),checked:!0}),h+=864e5;return a}var l={name:"QCalendar",props:{isOtherDate:{type:Boolean,default:!1},hideTitle:{type:Boolean,default:!0},multiSelect:{type:Boolean,default:!1},SelectedBackgroundColor:{type:String,default:"#4152b3"},SelectedTextColor:{type:String,default:"#ffffff"},isMonday:{type:Boolean,default:!0},selectType:{type:Number,default:1},selectList:{type:Array,default:()=>[]},isSwitch:{type:Boolean,default:!0}},data(){return{isMouseDown:!1,arr:this.selectList,isNowYear:!0,isNowMOnth:!0,hide:1,weekSort:{Sunday:["日","一","二","三","四","五","六"],Monday:["一","二","三","四","五","六","日"]},clickMonth:[{key:"一月",value:1},{key:"二月",value:2},{key:"三月",value:3},{key:"四月",value:4},{key:"五月",value:5},{key:"六月",value:6},{key:"七月",value:7},{key:"八月",value:8},{key:"九月",value:9},{key:"十月",value:10},{key:"十一月",value:11},{key:"十二月",value:12}],lastMonth:["一月","二月","三月","四月"],lastYear:[],thisYear:[],currentDay:(new Date).getDate(),currentMonth:(new Date).getMonth()+1,currentYear:(new Date).getFullYear()}},created(){this.initParameter()},computed:{cssProps(){return{"--Q-calendar-background-color":this.SelectedBackgroundColor,"--Q-calendar-color":this.SelectedTextColor}},currentMonthDays(){let e=new Date(this.currentYear,this.currentMonth,0).getDate(),t=[];for(let a=0;a<e;a++){let e={year:this.currentYear+"",month:this.currentMonth>0&&this.currentMonth<10?"0"+this.currentMonth:this.currentMonth+"",day:a+1>0&&a+1<10?"0"+(a+1):a+1+"",checked:!1};t[a]=e}for(let a=0;a<this.arr.length;a++)for(let e=0;e<t.length;e++)this.arr[a].year===t[e].year+""&&this.arr[a].month===t[e].month+""&&this.arr[a].day===t[e].day+""&&this.arr[a].checked&&(t[e].checked=!0);return t},lastMonthDays(){const e=new Date(this.currentYear,this.currentMonth-1,0).getDate();let t;t=this.isMonday?new Date(this.currentYear,this.currentMonth-1,0).getDay():new Date(this.currentYear,this.currentMonth-1,1).getDay();let a=[];for(let s=e-t+1;s<=e;s++)a.push(s);return a}},methods:{onMousewheel(e){let t=e||window.event;t.preventDefault(),t.deltaY>0?this.onClickDown():this.onClickUp()},dragDay(e){this.multiSelect&&this.isMouseDown&&this.onChangeDay(e)},onMouseDown(e){this.multiSelect&&(this.isMouseDown&&this.onChangeDay(e),this.isMouseDown=!0)},onMouseUp(){this.isMouseDown=!1},onMouseleave(){this.isMouseDown&&(this.isMouseDown=!1)},onChangeDay(e){if(1===this.selectType)if(0===this.arr.length)e.checked=!0,this.arr=[e];else{if(1!==this.arr.length)return;this.arr[0].year===e.year&&this.arr[0].month===e.month&&this.arr[0].day===e.day?this.arr=[]:(this.arr=[],e.checked=!0,this.arr.push(e))}else if(2===this.selectType)e.checked?(e.checked=!1,this.arr=this.arr.filter((t=>!(t.year===e.year&&t.month===e.month&&t.day===e.day)))):(e.checked=!0,this.arr.push(e));else if(3===this.selectType)if(0===this.arr.length)e.checked=!0,this.arr.push(e);else if(1===this.arr.length){e.checked=!0,this.arr.push(e);const t=i(this.arr[0],this.arr[1]);this.arr=[],this.arr=t}else this.arr=[],e.checked=!0,this.arr.push(e);this.$emit("selectedData",this.arr)},initParameter(){let e=this.currentYear-1;for(let t=3;t>=0;t--)this.lastYear[t]=e--;e=this.currentYear;for(let t=0;t<12;t++)this.thisYear[t]=e++},onChangeYear(e){this.hide=2;let t=(new Date).getFullYear();this.currentYear=e.srcElement.innerText,this.isNowYear=e.srcElement.innerText+""===t+""},onChangeMonth(e){this.hide=1;let t=(new Date).getMonth()+1;this.currentMonth=e.value,this.isNowMOnth=e.value+""===t+""},onClickYears(){let e=this.currentYear-1;for(let t=3;t>=0;t--)this.lastYear[t]=e--;this.hide=3},onClickMonth(){this.hide=2},nextMonth(){const e=42-this.currentMonthDays.length-this.lastMonthDays.length;return e},onClickUp(){let e=(new Date).getFullYear();1===this.hide?(1===this.currentMonth&&(this.currentYear--,this.currentMonth=13),this.currentMonth--):2===this.hide?(this.currentYear--,this.isNowYear=this.currentYear+""===e+""):this.switchingYear(1)},onClickDown(){let e=(new Date).getFullYear();1===this.hide?(12===this.currentMonth&&(this.currentYear++,this.currentMonth=0),this.currentMonth++):2===this.hide?(this.currentYear++,this.isNowYear=this.currentYear+""===e+""):this.switchingYear(2)},switchingYear(e){if(1===e){let e=this.lastYear[3]-11,t=this.lastYear[3]-15;this.thisYear=[];for(let a=0;a<12;a++)this.thisYear[a]=e++;this.lastYear=[];for(let a=0;a<4;a++)this.lastYear[a]=t++}else if(2===e){let e=this.thisYear[11]+1;this.lastYear=[];for(let t=3;t>=0;t--)this.lastYear[t]=this.thisYear[11]--;this.thisYear=[];for(let t=0;t<12;t++)this.thisYear[t]=e++}}}},h=l,o=a(1656),c=(0,o.A)(h,s,r,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=780.3da1a0ef.js.map